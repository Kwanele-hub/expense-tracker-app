{"ast":null,"code":"var _jsxFileName = \"/home/tcg/my-workspace/Team-Serengetti/expense-tracker-app/client/src/app/dashboard/Dashboard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useForm, Controller } from 'react-hook-form';\nimport * as yup from 'yup';\nimport * as dayjs from 'dayjs';\nimport { Messages } from 'primereact/messages';\nimport { Card } from 'primereact/card';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Calendar } from 'primereact/calendar';\nimport { Button } from 'primereact/button';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport CurrencySidebar from './../common/CurrencySidebar';\nimport ExpenseListItem from './../expense/ExpenseListItem';\nimport IncomeListItem from './../income/IncomeListItem';\nimport { expenseApiEndpoints, incomeApiEndpoints, reportApiEndpoints } from './../../API';\nimport axios from './../../Axios';\nimport { useTracked } from './../../Store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet messages;\nconst addExpenseValidationSchema = yup.object().shape({\n  expense_date: yup.string().required('Expense date field is required'),\n  category: yup.object().required('Expense category field is required'),\n  amount: yup.string().required('Expense amount field is required'),\n  spent_on: yup.string().required('Spent on field is required').max(100, 'Spent on must be at most 100 characters'),\n  remarks: yup.string().max(200, 'Remarks must be at most 200 characters')\n});\n\nconst Dashboard = props => {\n  _s();\n\n  var _errors$expense_date, _errors$category, _errors$spent_on, _errors$amount, _errors$remarks;\n\n  const [state] = useTracked();\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    errors,\n    setError,\n    reset,\n    control\n  } = useForm({\n    validationSchema: addExpenseValidationSchema\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [currencyVisible, setCurrencyVisible] = useState(false);\n  const [recentExpense, setRecentExpense] = useState({\n    expense: [],\n    expenseLoading: true\n  });\n  const [recentIncome, setRecentIncome] = useState({\n    income: [],\n    incomeLoading: true\n  });\n  const [monthlyExpenseSummary, setMonthlyExpenseSummary] = useState({});\n  const [monthlyIncomeSummary, setMonthlyIncomeSummary] = useState({});\n  const [expenseCategories, setExpenseCategories] = useState([]);\n  useEffect(() => {\n    requestExpenseCategory();\n    requestExpense();\n    requestIncome();\n    requestExpenseSummary();\n    requestIncomeSummary();\n  }, []);\n\n  const requestExpenseCategory = async () => {\n    await axios.get(expenseApiEndpoints.expenseCategory + '?sort_col=category_name&sort_order=asc', {}).then(response => {\n      // console.log(response.data);\n      if (response.data.data.length > 0) {\n        setExpenseCategories(response.data.data);\n      } else {}\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const requestExpenseSummary = async () => {\n    await axios.get(reportApiEndpoints.monthlyExpenseSummary, {}).then(response => {\n      // console.log(response.data);\n      setMonthlyExpenseSummary(response.data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const requestIncomeSummary = async () => {\n    await axios.get(reportApiEndpoints.monthlyIncomeSummary, {}).then(response => {\n      // console.log(response.data);\n      setMonthlyIncomeSummary(response.data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const requestExpense = async () => {\n    await axios.get(expenseApiEndpoints.expense + '?per_page=5&sort_order=desc', {}).then(response => {\n      // console.log(response.data);\n      setRecentExpense({ ...recentExpense,\n        expense: response.data.data,\n        expenseLoading: false\n      });\n    }).catch(error => {\n      console.log('error', error);\n      setRecentExpense({ ...recentExpense,\n        expenseLoading: false\n      });\n    });\n  };\n\n  const requestIncome = async () => {\n    await axios.get(incomeApiEndpoints.income + '?per_page=5&sort_order=desc', {}).then(response => {\n      // console.log(response.data);\n      setRecentIncome({ ...recentIncome,\n        income: response.data.data,\n        incomeLoading: false\n      });\n    }).catch(error => {\n      console.log('error', error);\n      setRecentIncome({ ...recentIncome,\n        incomeLoading: false\n      });\n    });\n  };\n\n  const submitExpense = data => {\n    data.category_id = data.category.id;\n    data.currency_id = state.currentCurrency.id;\n    data.expense_date = dayjs(data.expense_date).format('YYYY-MM-DD HH:mm:ss');\n    axios.post(expenseApiEndpoints.expense, JSON.stringify(data)).then(response => {\n      // console.log('success');\n      if (response.status === 201) {\n        reset();\n        setSubmitting(false);\n        setValue('expense_date', dayjs(response.data.request.expense_date).toDate());\n        requestExpense();\n        requestExpenseSummary();\n        messages.show({\n          severity: 'success',\n          detail: 'Your expense on ' + response.data.request.spent_on + ' added.',\n          sticky: false,\n          closable: false,\n          life: 5000\n        });\n      }\n    }).catch(error => {\n      console.log('error', error.response);\n\n      if (error.response.status === 401) {\n        messages.clear();\n        messages.show({\n          severity: 'error',\n          detail: 'Something went wrong. Try again.',\n          sticky: true,\n          closable: true,\n          life: 5000\n        });\n      } else if (error.response.status === 422) {\n        let errors = Object.entries(error.response.data).map(([key, value]) => {\n          return {\n            name: key,\n            message: value[0]\n          };\n        });\n        setError(errors);\n      }\n\n      setSubmitting(false);\n    });\n  };\n\n  const renderRecentExpense = () => {\n    if (recentExpense.expenseLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-nogutter p-justify-center\",\n        children: /*#__PURE__*/_jsxDEV(ProgressSpinner, {\n          style: {\n            height: '25px'\n          },\n          strokeWidth: '4'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this);\n    } else {\n      if (recentExpense.expense.length > 0) {\n        return recentExpense.expense.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(ExpenseListItem, {\n            itemDetail: item\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 18\n          }, this);\n        });\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid p-nogutter p-justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"color-subtitle\",\n            children: \"Spend some cash to see recent.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this);\n      }\n    }\n  };\n\n  const renderRecentIncome = () => {\n    if (recentIncome.incomeLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-nogutter p-justify-center\",\n        children: /*#__PURE__*/_jsxDEV(ProgressSpinner, {\n          style: {\n            height: '25px'\n          },\n          strokeWidth: '4'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this);\n    } else {\n      if (recentIncome.income.length > 0) {\n        return recentIncome.income.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(IncomeListItem, {\n            itemDetail: item\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 18\n          }, this);\n        });\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-grid p-nogutter p-justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"color-subtitle\",\n            children: \"Add some earnings to see recent.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this);\n      }\n    }\n  };\n\n  const renderSummary = data => {\n    if (data && data.length > 0) {\n      return data.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"color-link text-center\",\n            children: [item.total.toLocaleString(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"color-title\",\n              children: item.currency_code + '.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 81\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 11\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 16\n        }, this);\n      });\n    } else if (typeof data === \"object\" && Object.values(data).length > 0) {\n      return Object.values(data).map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"color-link text-center\",\n            children: [item.total.toLocaleString(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"color-title\",\n              children: item.currency_code + '.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 81\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 11\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 16\n        }, this);\n      });\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: \"No transaction data found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      title: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CurrencySidebar, {\n      visible: currencyVisible,\n      onHide: e => setCurrencyVisible(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid p-nogutter\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-fluid\",\n          children: /*#__PURE__*/_jsxDEV(Messages, {\n            ref: el => messages = el\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-col-6 p-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-panel p-component\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-titlebar\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"color-title text-bold\",\n                    children: \"Expense Last Month\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-content-wrapper p-panel-content-wrapper-expanded\",\n                  id: \"pr_id_1_content\",\n                  \"aria-labelledby\": \"pr_id_1_label\",\n                  \"aria-hidden\": \"false\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-panel-content\",\n                    children: renderSummary(monthlyExpenseSummary.expense_last_month)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-col-6 p-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-panel p-component\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-titlebar\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"color-title text-bold\",\n                    children: \"Expense This Month\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-content-wrapper p-panel-content-wrapper-expanded\",\n                  id: \"pr_id_1_content\",\n                  \"aria-labelledby\": \"pr_id_1_label\",\n                  \"aria-hidden\": \"false\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-panel-content\",\n                    children: renderSummary(monthlyExpenseSummary.expense_this_month)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-col-6 p-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-panel p-component\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-titlebar\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"color-title text-bold\",\n                    children: \"Income Last Month\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-content-wrapper p-panel-content-wrapper-expanded\",\n                  id: \"pr_id_1_content\",\n                  \"aria-labelledby\": \"pr_id_1_label\",\n                  \"aria-hidden\": \"false\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-panel-content\",\n                    children: renderSummary(monthlyIncomeSummary.income_last_month)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-col-6 p-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-panel p-component\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-titlebar\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"color-title text-bold\",\n                    children: \"Income This Month\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-panel-content-wrapper p-panel-content-wrapper-expanded\",\n                  id: \"pr_id_1_content\",\n                  \"aria-labelledby\": \"pr_id_1_label\",\n                  \"aria-hidden\": \"false\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-panel-content\",\n                    children: renderSummary(monthlyIncomeSummary.income_this_month)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12 p-md-6 p-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"rounded-border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-title p-grid p-nogutter p-justify-between\",\n              children: \"Expense Info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-subtitle\",\n              children: \"Enter your expense information below.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(submitExpense),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-fluid\",\n              children: [/*#__PURE__*/_jsxDEV(Controller, {\n                name: \"expense_date\",\n                defaultValue: new Date(),\n                onChange: ([e]) => {\n                  // console.log(e);\n                  return e.value;\n                },\n                control: control,\n                as: /*#__PURE__*/_jsxDEV(Calendar, {\n                  dateFormat: \"yy-mm-dd\",\n                  showTime: true,\n                  hourFormat: \"12\",\n                  showButtonBar: true,\n                  maxDate: new Date(),\n                  touchUI: window.innerWidth < 768\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-error\",\n                children: (_errors$expense_date = errors.expense_date) === null || _errors$expense_date === void 0 ? void 0 : _errors$expense_date.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-fluid\",\n              children: [/*#__PURE__*/_jsxDEV(Controller, {\n                name: \"category\",\n                onChange: ([e]) => {\n                  return e.value;\n                },\n                control: control,\n                as: /*#__PURE__*/_jsxDEV(Dropdown, {\n                  filter: true,\n                  filterPlaceholder: \"Search here\",\n                  showClear: true,\n                  filterInputAutoFocus: false,\n                  options: expenseCategories,\n                  style: {\n                    width: '100%'\n                  },\n                  placeholder: \"Expense Category\",\n                  optionLabel: \"category_name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-error\",\n                children: (_errors$category = errors.category) === null || _errors$category === void 0 ? void 0 : _errors$category.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-fluid\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                ref: register,\n                placeholder: \"Spent On\",\n                name: \"spent_on\",\n                className: \"p-inputtext p-component p-filled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-error\",\n                children: (_errors$spent_on = errors.spent_on) === null || _errors$spent_on === void 0 ? void 0 : _errors$spent_on.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-fluid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-inputgroup\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.00\",\n                  ref: register,\n                  keyfilter: \"money\",\n                  placeholder: \"Amount\",\n                  name: \"amount\",\n                  className: \"p-inputtext p-component p-filled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  label: `${state.currencies.length === 0 ? 'loading' : state.currentCurrency.currency_code}`,\n                  type: \"button\",\n                  onClick: e => setCurrencyVisible(true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-error\",\n                children: (_errors$amount = errors.amount) === null || _errors$amount === void 0 ? void 0 : _errors$amount.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-fluid\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: register,\n                rows: 5,\n                placeholder: \"Remarks\",\n                name: \"remarks\",\n                className: \"p-inputtext p-inputtextarea p-component p-inputtextarea-resizable\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-error\",\n                children: (_errors$remarks = errors.remarks) === null || _errors$remarks === void 0 ? void 0 : _errors$remarks.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-fluid\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                disabled: submitting,\n                type: \"submit\",\n                label: \"Add Expense\",\n                icon: \"pi pi-plus\",\n                className: \"p-button-raised\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12 p-md-6 p-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"rounded-border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-title p-grid p-nogutter p-justify-between\",\n              children: \"Recent Expenses -\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-subtitle\",\n              children: \"Here are few expenses you've made.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: renderRecentExpense()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12 p-md-6 p-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"rounded-border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-title p-grid p-nogutter p-justify-between\",\n              children: \"Recent Incomes +\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-subtitle\",\n              children: \"Here are few incomes you've added.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: renderRecentIncome()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Dashboard, \"eIzNeYBaXTESry2cr1m6ZwAZaEs=\", false, function () {\n  return [useTracked, useForm];\n});\n\n_c = Dashboard;\nexport default _c2 = /*#__PURE__*/React.memo(Dashboard);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/tcg/my-workspace/Team-Serengetti/expense-tracker-app/client/src/app/dashboard/Dashboard.jsx"],"names":["React","useEffect","useState","Helmet","useForm","Controller","yup","dayjs","Messages","Card","Dropdown","Calendar","Button","ProgressSpinner","CurrencySidebar","ExpenseListItem","IncomeListItem","expenseApiEndpoints","incomeApiEndpoints","reportApiEndpoints","axios","useTracked","messages","addExpenseValidationSchema","object","shape","expense_date","string","required","category","amount","spent_on","max","remarks","Dashboard","props","state","register","handleSubmit","setValue","errors","setError","reset","control","validationSchema","submitting","setSubmitting","currencyVisible","setCurrencyVisible","recentExpense","setRecentExpense","expense","expenseLoading","recentIncome","setRecentIncome","income","incomeLoading","monthlyExpenseSummary","setMonthlyExpenseSummary","monthlyIncomeSummary","setMonthlyIncomeSummary","expenseCategories","setExpenseCategories","requestExpenseCategory","requestExpense","requestIncome","requestExpenseSummary","requestIncomeSummary","get","expenseCategory","then","response","data","length","catch","error","console","log","submitExpense","category_id","id","currency_id","currentCurrency","format","post","JSON","stringify","status","request","toDate","show","severity","detail","sticky","closable","life","clear","Object","entries","map","key","value","name","message","renderRecentExpense","height","item","index","renderRecentIncome","renderSummary","total","toLocaleString","currency_code","values","e","el","expense_last_month","expense_this_month","income_last_month","income_this_month","Date","window","innerWidth","width","currencies","memo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useForm, Controller } from 'react-hook-form';\nimport * as yup from 'yup';\nimport * as dayjs from 'dayjs';\n\nimport { Messages } from 'primereact/messages';\nimport { Card } from 'primereact/card';\nimport { Dropdown } from 'primereact/dropdown';\nimport { Calendar } from 'primereact/calendar';\nimport { Button } from 'primereact/button';\nimport { ProgressSpinner } from 'primereact/progressspinner';\n\nimport CurrencySidebar from './../common/CurrencySidebar';\nimport ExpenseListItem from './../expense/ExpenseListItem';\nimport IncomeListItem from './../income/IncomeListItem';\n\nimport { expenseApiEndpoints, incomeApiEndpoints, reportApiEndpoints } from './../../API';\nimport axios from './../../Axios';\nimport { useTracked } from './../../Store';\n\nlet messages;\n\nconst addExpenseValidationSchema = yup.object().shape({\n  expense_date: yup.string().required('Expense date field is required'),\n  category: yup.object().required('Expense category field is required'),\n  amount: yup.string().required('Expense amount field is required'),\n  spent_on: yup.string().required('Spent on field is required').max(100, 'Spent on must be at most 100 characters'),\n  remarks: yup.string().max(200, 'Remarks must be at most 200 characters'),\n});\n\nconst Dashboard = (props) => {\n\n  const [state] = useTracked();\n  const { register, handleSubmit, setValue, errors, setError, reset, control } = useForm({\n    validationSchema: addExpenseValidationSchema\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [currencyVisible, setCurrencyVisible] = useState(false);\n  const [recentExpense, setRecentExpense] = useState({ expense: [], expenseLoading: true });\n  const [recentIncome, setRecentIncome] = useState({ income: [], incomeLoading: true });\n  const [monthlyExpenseSummary, setMonthlyExpenseSummary] = useState({});\n  const [monthlyIncomeSummary, setMonthlyIncomeSummary] = useState({});\n  const [expenseCategories, setExpenseCategories] = useState([]);\n\n  useEffect(() => {\n    requestExpenseCategory();\n    requestExpense();\n    requestIncome();\n    requestExpenseSummary();\n    requestIncomeSummary();\n  }, []);\n\n\n  const requestExpenseCategory = async () => {\n    await axios.get(expenseApiEndpoints.expenseCategory + '?sort_col=category_name&sort_order=asc', {})\n      .then(response => {\n        // console.log(response.data);\n        if (response.data.data.length > 0) {\n          setExpenseCategories(response.data.data);\n        }\n        else {\n\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  const requestExpenseSummary = async () => {\n    await axios.get(reportApiEndpoints.monthlyExpenseSummary, {})\n      .then(response => {\n        // console.log(response.data);\n        setMonthlyExpenseSummary(response.data.data)\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  const requestIncomeSummary = async () => {\n    await axios.get(reportApiEndpoints.monthlyIncomeSummary, {})\n      .then(response => {\n        // console.log(response.data);\n        setMonthlyIncomeSummary(response.data.data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  const requestExpense = async () => {\n    await axios.get(expenseApiEndpoints.expense + '?per_page=5&sort_order=desc', {})\n      .then(response => {\n        // console.log(response.data);\n        setRecentExpense({\n          ...recentExpense,\n          expense: response.data.data,\n          expenseLoading: false\n        });\n      })\n      .catch(error => {\n        console.log('error', error);\n        setRecentExpense({\n          ...recentExpense,\n          expenseLoading: false\n        });\n      });\n  };\n\n  const requestIncome = async () => {\n    await axios.get(incomeApiEndpoints.income + '?per_page=5&sort_order=desc', {})\n      .then(response => {\n        // console.log(response.data);\n        setRecentIncome({\n          ...recentIncome,\n          income: response.data.data,\n          incomeLoading: false\n        });\n      })\n      .catch(error => {\n        console.log('error', error);\n        setRecentIncome({\n          ...recentIncome,\n          incomeLoading: false\n        });\n      });\n  };\n\n  const submitExpense = (data) => {\n\n    data.category_id = data.category.id;\n    data.currency_id = state.currentCurrency.id;\n    data.expense_date = dayjs(data.expense_date).format('YYYY-MM-DD HH:mm:ss');\n\n    axios.post(expenseApiEndpoints.expense, JSON.stringify(data))\n      .then(response => {\n        // console.log('success');\n        if (response.status === 201) {\n          reset();\n          setSubmitting(false);\n          setValue('expense_date', dayjs(response.data.request.expense_date).toDate());\n          requestExpense();\n          requestExpenseSummary();\n\n          messages.show({\n            severity: 'success',\n            detail: 'Your expense on ' + response.data.request.spent_on + ' added.',\n            sticky: false,\n            closable: false,\n            life: 5000\n          });\n        }\n      })\n      .catch(error => {\n        console.log('error', error.response);\n\n        if (error.response.status === 401) {\n          messages.clear();\n          messages.show({\n            severity: 'error',\n            detail: 'Something went wrong. Try again.',\n            sticky: true,\n            closable: true,\n            life: 5000\n          });\n        }\n        else if (error.response.status === 422) {\n          let errors = Object.entries(error.response.data).map(([key, value]) => {\n            return { name: key, message: value[0] }\n          });\n          setError(errors);\n        }\n\n        setSubmitting(false)\n      })\n  };\n\n  const renderRecentExpense = () => {\n    if (recentExpense.expenseLoading) {\n      return (\n        <div className=\"p-grid p-nogutter p-justify-center\">\n          <ProgressSpinner style={{ height: '25px' }} strokeWidth={'4'} />\n        </div>\n      );\n    }\n    else {\n      if (recentExpense.expense.length > 0) {\n        return recentExpense.expense.map((item, index) => {\n          return <ExpenseListItem key={item.id} itemDetail={item} />;\n        })\n      }\n      else {\n        return (\n          <div className=\"p-grid p-nogutter p-justify-center\">\n            <h4 className=\"color-subtitle\">Spend some cash to see recent.</h4>\n          </div>\n        );\n      }\n    }\n  };\n\n  const renderRecentIncome = () => {\n    if (recentIncome.incomeLoading) {\n      return (\n        <div className=\"p-grid p-nogutter p-justify-center\">\n          <ProgressSpinner style={{ height: '25px' }} strokeWidth={'4'} />\n        </div>\n      );\n    }\n    else {\n      if (recentIncome.income.length > 0) {\n        return recentIncome.income.map((item, index) => {\n          return <IncomeListItem key={item.id} itemDetail={item} />;\n        })\n      }\n      else {\n        return (\n          <div className=\"p-grid p-nogutter p-justify-center\">\n            <h4 className=\"color-subtitle\">Add some earnings to see recent.</h4>\n          </div>\n        );\n      }\n    }\n  };\n\n  const renderSummary = (data) => {\n    if (data && data.length > 0) {\n      return data.map((item, index) => {\n        return <div key={index}>\n          <div className=\"color-link text-center\">{item.total.toLocaleString()} <span className=\"color-title\">{item.currency_code + '.'}</span></div>\n          <hr />\n        </div>\n      })\n    }\n    else if (typeof data === \"object\" && Object.values(data).length > 0) {\n      return Object.values(data).map((item, index) => {\n        return <div key={index}>\n          <div className=\"color-link text-center\">{item.total.toLocaleString()} <span className=\"color-title\">{item.currency_code + '.'}</span></div>\n          <hr />\n        </div>\n      })\n    }\n    else {\n      return <div>\n        <div className=\"text-center\">No transaction data found.</div>\n        <hr />\n      </div>\n    }\n  };\n\n  return (\n    <div>\n      <Helmet title=\"Dashboard\" />\n\n      <CurrencySidebar visible={currencyVisible} onHide={(e) => setCurrencyVisible(false)} />\n\n      <div className=\"p-grid p-nogutter\">\n        <div className=\"p-col-12\">\n          <div className=\"p-fluid\">\n            <Messages ref={(el) => messages = el} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-grid\">\n        <div className=\"p-col-12\">\n          <div className=\"p-fluid\">\n\n            <div className=\"p-grid\">\n              <div className=\"p-col-6 p-md-3\">\n                <div className=\"p-panel p-component\">\n                  <div className=\"p-panel-titlebar\"><span className=\"color-title text-bold\">Expense Last Month</span>\n                  </div>\n                  <div className=\"p-panel-content-wrapper p-panel-content-wrapper-expanded\" id=\"pr_id_1_content\"\n                    aria-labelledby=\"pr_id_1_label\" aria-hidden=\"false\">\n                    <div className=\"p-panel-content\">\n                      {renderSummary(monthlyExpenseSummary.expense_last_month)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-col-6 p-md-3\">\n                <div className=\"p-panel p-component\">\n                  <div className=\"p-panel-titlebar\"><span className=\"color-title text-bold\">Expense This Month</span></div>\n                  <div className=\"p-panel-content-wrapper p-panel-content-wrapper-expanded\" id=\"pr_id_1_content\"\n                    aria-labelledby=\"pr_id_1_label\" aria-hidden=\"false\">\n                    <div className=\"p-panel-content\">\n                      {renderSummary(monthlyExpenseSummary.expense_this_month)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-col-6 p-md-3\">\n                <div className=\"p-panel p-component\">\n                  <div className=\"p-panel-titlebar\"><span className=\"color-title text-bold\">Income Last Month</span>\n                  </div>\n                  <div className=\"p-panel-content-wrapper p-panel-content-wrapper-expanded\" id=\"pr_id_1_content\"\n                    aria-labelledby=\"pr_id_1_label\" aria-hidden=\"false\">\n                    <div className=\"p-panel-content\">\n                      {renderSummary(monthlyIncomeSummary.income_last_month)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-col-6 p-md-3\">\n                <div className=\"p-panel p-component\">\n                  <div className=\"p-panel-titlebar\"><span className=\"color-title text-bold\">Income This Month</span></div>\n                  <div className=\"p-panel-content-wrapper p-panel-content-wrapper-expanded\" id=\"pr_id_1_content\"\n                    aria-labelledby=\"pr_id_1_label\" aria-hidden=\"false\">\n                    <div className=\"p-panel-content\">\n                      {renderSummary(monthlyIncomeSummary.income_this_month)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-grid\">\n\n        <div className=\"p-col-12 p-md-6 p-lg-4\">\n          <Card className=\"rounded-border\">\n            <div>\n              <div className=\"p-card-title p-grid p-nogutter p-justify-between\">Expense Info</div>\n              <div className=\"p-card-subtitle\">Enter your expense information below.</div>\n            </div>\n            <br />\n            <form onSubmit={handleSubmit(submitExpense)}>\n              <div className=\"p-fluid\">\n                <Controller\n                  name=\"expense_date\"\n                  defaultValue={new Date()}\n                  onChange={([e]) => {\n                    // console.log(e);\n                    return e.value;\n                  }}\n                  control={control}\n                  as={\n                    <Calendar\n                      dateFormat=\"yy-mm-dd\"\n                      showTime={true}\n                      hourFormat=\"12\"\n                      showButtonBar={true}\n                      maxDate={new Date()}\n                      touchUI={window.innerWidth < 768}\n                    />\n                  }\n                />\n                <p className=\"text-error\">{errors.expense_date?.message}</p>\n              </div>\n              <div className=\"p-fluid\">\n                <Controller\n                  name=\"category\"\n                  onChange={([e]) => {\n                    return e.value\n                  }}\n                  control={control}\n                  as={\n                    <Dropdown\n                      filter={true}\n                      filterPlaceholder=\"Search here\"\n                      showClear={true}\n                      filterInputAutoFocus={false}\n                      options={expenseCategories}\n                      style={{ width: '100%' }}\n                      placeholder=\"Expense Category\"\n                      optionLabel=\"category_name\"\n                    />\n                  }\n                />\n                <p className=\"text-error\">{errors.category?.message}</p>\n              </div>\n              <div className=\"p-fluid\">\n                <input type=\"text\" ref={register} placeholder=\"Spent On\" name=\"spent_on\" className=\"p-inputtext p-component p-filled\" />\n                <p className=\"text-error\">{errors.spent_on?.message}</p>\n              </div>\n              <div className=\"p-fluid\">\n                <div className=\"p-inputgroup\">\n                  <input type=\"number\" step=\"0.00\" ref={register} keyfilter=\"money\" placeholder=\"Amount\" name=\"amount\" className=\"p-inputtext p-component p-filled\" />\n                  <Button\n                    label={`${state.currencies.length === 0 ? 'loading' : state.currentCurrency.currency_code}`}\n                    type=\"button\"\n                    onClick={(e) => setCurrencyVisible(true)} />\n                </div>\n                <p className=\"text-error\">{errors.amount?.message}</p>\n              </div>\n              <div className=\"p-fluid\">\n                <textarea ref={register} rows={5} placeholder=\"Remarks\" name=\"remarks\" className=\"p-inputtext p-inputtextarea p-component p-inputtextarea-resizable\" />\n                <p className=\"text-error\">{errors.remarks?.message}</p>\n              </div>\n              <div className=\"p-fluid\">\n                <Button disabled={submitting} type=\"submit\" label=\"Add Expense\" icon=\"pi pi-plus\"\n                  className=\"p-button-raised\" />\n              </div>\n            </form>\n          </Card>\n        </div>\n\n        <div className=\"p-col-12 p-md-6 p-lg-4\">\n          <Card className=\"rounded-border\">\n            <div>\n              <div className=\"p-card-title p-grid p-nogutter p-justify-between\">Recent Expenses -</div>\n              <div className=\"p-card-subtitle\">Here are few expenses you've made.</div>\n            </div>\n            <br />\n            <div>\n              {renderRecentExpense()}\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"p-col-12 p-md-6 p-lg-4\">\n          <Card className=\"rounded-border\">\n            <div>\n              <div className=\"p-card-title p-grid p-nogutter p-justify-between\">Recent Incomes +</div>\n              <div className=\"p-card-subtitle\">Here are few incomes you've added.</div>\n            </div>\n            <br />\n            <div>\n              {renderRecentIncome()}\n            </div>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(Dashboard);\n"]},"metadata":{},"sourceType":"module"}