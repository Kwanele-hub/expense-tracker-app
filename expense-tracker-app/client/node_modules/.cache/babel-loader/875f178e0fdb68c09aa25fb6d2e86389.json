{"ast":null,"code":"var _jsxFileName = \"/home/tcg/my-workspace/Team-Serengetti/expense-tracker-app/client/src/app/setting/Setting.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useTranslation } from 'react-i18next';\nimport { Messages } from 'primereact/messages';\nimport { Card } from 'primereact/card';\nimport { Button } from 'primereact/button';\nimport CurrencySidebar from './../common/CurrencySidebar';\nimport { currencyApiEndpoints } from './../../API';\nimport axios from './../../Axios';\nimport { setItem } from './../../Helpers';\nimport { useTracked } from './../../Store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet messages; // For alert message\n\nconst Setting = props => {\n  _s();\n\n  const [state, setState] = useTracked();\n  const [visible, setVisible] = useState(false);\n  const [t, i18n] = useTranslation();\n  const toggleLanguage = useCallback(() => {\n    i18n.language === 'en' ? i18n.changeLanguage('bn') : i18n.changeLanguage('en');\n    setItem('language', i18n.language);\n  }, [i18n]);\n\n  const submitSetting = () => {\n    axios.put(currencyApiEndpoints.currency + '/' + state.user.id, JSON.stringify({\n      currency_id: state.currentCurrency.id\n    })).then(response => {\n      console.log('success', response.data);\n\n      if (response.status === 200) {\n        setState(prev => ({ ...prev,\n          currency_id: response.data.request.currency_id\n        }));\n        messages.show({\n          severity: 'success',\n          detail: 'Current currency set to ' + state.currentCurrency.currency_code + ' (' + state.currentCurrency.currency_name + ').',\n          sticky: false,\n          closable: false,\n          life: 5000\n        });\n      }\n    }).catch(error => {\n      console.log('error');\n      console.log(error.response);\n\n      if (error.response.status === 401) {\n        messages.clear();\n        messages.show({\n          severity: 'error',\n          detail: 'Something went wrong. Try again.',\n          sticky: true,\n          closable: true,\n          life: 5000\n        });\n      }\n\n      if (error.response.status === 422) {\n        messages.clear();\n        messages.show({\n          severity: 'error',\n          detail: 'Currency is same as selected. Nothing changed.',\n          sticky: true,\n          closable: true,\n          life: 5000\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      title: \"Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CurrencySidebar, {\n      visible: visible,\n      onHide: e => setVisible(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid p-nogutter\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-fluid\",\n          children: /*#__PURE__*/_jsxDEV(Messages, {\n            ref: el => messages = el\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12 p-md-6\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"rounded-border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-title p-grid p-nogutter p-justify-between\",\n              children: \"App Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-subtitle\",\n              children: \"Below are the current setup for this app.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-grid p-nogutter p-justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-title p-col-4\",\n              children: \"Current Currency:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-highlight p-col-4\",\n              children: state.currencies.length === 0 ? 'loading' : state.currentCurrency.currency_code + ' (' + state.currentCurrency.currency_name + ')'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                label: \"Change\",\n                icon: \"pi pi-refresh\",\n                className: \"p-button-rounded p-button-raised p-button-secondary\",\n                type: \"button\",\n                onClick: e => setVisible(true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-card-footer p-fluid\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              label: \"Update\",\n              className: \"\",\n              icon: \"pi pi-save\",\n              onClick: () => submitSetting()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-col-12 p-md-6\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"rounded-border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-title p-grid p-nogutter p-justify-between\",\n              children: \"Interface Setting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-card-subtitle\",\n              children: \"Below are the current setup for this UI.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-grid p-nogutter p-justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-title p-col-4\",\n              children: \"Menu Color:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-highlight p-col-4\",\n              children: state.layoutColorMode === 'dark' ? 'Dark' : 'Light'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                label: \"Toggle\",\n                icon: \"pi pi-refresh\",\n                className: \"p-button-rounded p-button-raised p-button-secondary\",\n                type: \"button\",\n                onClick: e => {\n                  state.layoutColorMode === 'dark' ? setState(prev => ({ ...prev,\n                    layoutColorMode: 'light'\n                  })) : setState(prev => ({ ...prev,\n                    layoutColorMode: 'dark'\n                  }));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-grid p-nogutter p-justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-title p-col-4\",\n              children: \"Menu Mode:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-highlight p-col-4\",\n              children: state.layoutMode === 'static' ? 'Static' : 'Overlay'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                label: \"Toggle\",\n                icon: \"pi pi-refresh\",\n                className: \"p-button-rounded p-button-raised p-button-secondary\",\n                type: \"button\",\n                onClick: e => {\n                  state.layoutMode === 'static' ? setState(prev => ({ ...prev,\n                    layoutMode: 'overlay'\n                  })) : setState(prev => ({ ...prev,\n                    layoutMode: 'static'\n                  }));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-grid p-nogutter p-justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-title p-col-4\",\n              children: \"Language:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"color-highlight p-col-4\",\n              children: i18n.language === 'en' ? 'English' : 'বাংলা'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                label: \"Toggle\",\n                icon: \"pi pi-refresh\",\n                className: \"p-button-rounded p-button-raised p-button-secondary\",\n                type: \"button\",\n                onClick: e => toggleLanguage()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Setting, \"8Q6qslkRunrk2KXUoUWVxY+gsSw=\", false, function () {\n  return [useTracked, useTranslation];\n});\n\n_c = Setting;\nexport default _c2 = /*#__PURE__*/React.memo(Setting);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Setting\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/tcg/my-workspace/Team-Serengetti/expense-tracker-app/client/src/app/setting/Setting.jsx"],"names":["React","useState","useCallback","Helmet","useTranslation","Messages","Card","Button","CurrencySidebar","currencyApiEndpoints","axios","setItem","useTracked","messages","Setting","props","state","setState","visible","setVisible","t","i18n","toggleLanguage","language","changeLanguage","submitSetting","put","currency","user","id","JSON","stringify","currency_id","currentCurrency","then","response","console","log","data","status","prev","request","show","severity","detail","currency_code","currency_name","sticky","closable","life","catch","error","clear","e","el","currencies","length","layoutColorMode","layoutMode","memo"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useTranslation } from 'react-i18next';\n\nimport { Messages } from 'primereact/messages';\nimport { Card } from 'primereact/card';\nimport { Button } from 'primereact/button';\n\nimport CurrencySidebar from './../common/CurrencySidebar';\n\nimport { currencyApiEndpoints } from './../../API';\nimport axios from './../../Axios';\nimport { setItem } from './../../Helpers';\nimport { useTracked } from './../../Store';\n\nlet messages; // For alert message\n\nconst Setting = (props) => {\n\n  const [state, setState] = useTracked();\n  const [visible, setVisible] = useState(false);\n  const [t, i18n] = useTranslation();\n\n  const toggleLanguage = useCallback(() => {\n    i18n.language === 'en' ? i18n.changeLanguage('bn') : i18n.changeLanguage('en');\n    setItem('language', i18n.language);\n  }, [i18n]);\n\n  const submitSetting = () => {\n    axios.put(currencyApiEndpoints.currency + '/' + state.user.id, JSON.stringify({ currency_id: state.currentCurrency.id }))\n      .then(response => {\n        console.log('success', response.data);\n\n        if (response.status === 200) {\n\n          setState(prev => ({ ...prev, currency_id: response.data.request.currency_id }));\n\n          messages.show({\n            severity: 'success',\n            detail: 'Current currency set to ' + state.currentCurrency.currency_code + ' (' + state.currentCurrency.currency_name + ').',\n            sticky: false,\n            closable: false,\n            life: 5000\n          });\n        }\n\n      })\n      .catch(error => {\n        console.log('error');\n        console.log(error.response);\n\n        if (error.response.status === 401) {\n          messages.clear();\n          messages.show({\n            severity: 'error',\n            detail: 'Something went wrong. Try again.',\n            sticky: true,\n            closable: true,\n            life: 5000\n          });\n        }\n\n        if (error.response.status === 422) {\n          messages.clear();\n          messages.show({\n            severity: 'error',\n            detail: 'Currency is same as selected. Nothing changed.',\n            sticky: true,\n            closable: true,\n            life: 5000\n          });\n        }\n\n      })\n  };\n\n  return (\n    <div>\n      <Helmet title=\"Settings\" />\n\n      <CurrencySidebar visible={visible} onHide={(e) => setVisible(false)} />\n\n      <div className=\"p-grid p-nogutter\">\n        <div className=\"p-col-12\">\n          <div className=\"p-fluid\">\n            <Messages ref={(el) => messages = el} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-grid\">\n\n        <div className=\"p-col-12 p-md-6\">\n          <Card className=\"rounded-border\">\n            <div>\n              <div className=\"p-card-title p-grid p-nogutter p-justify-between\">App Settings</div>\n              <div className=\"p-card-subtitle\">Below are the current setup for this app.</div>\n            </div>\n            <br />\n            <div className=\"p-grid p-nogutter p-justify-between\">\n              <h3 className=\"color-title p-col-4\">\n                Current Currency:\n                </h3>\n              <h3 className=\"color-highlight p-col-4\">\n                {state.currencies.length === 0 ? 'loading' : state.currentCurrency.currency_code + ' (' + state.currentCurrency.currency_name + ')'}\n              </h3>\n              <h3>\n                <Button label=\"Change\" icon=\"pi pi-refresh\"\n                  className=\"p-button-rounded p-button-raised p-button-secondary\" type=\"button\"\n                  onClick={(e) => setVisible(true)} />\n              </h3>\n            </div>\n\n            <div className=\"p-card-footer p-fluid\">\n              <Button label=\"Update\" className=\"\" icon=\"pi pi-save\" onClick={() => submitSetting()} />\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"p-col-12 p-md-6\">\n          <Card className=\"rounded-border\">\n            <div>\n              <div className=\"p-card-title p-grid p-nogutter p-justify-between\">Interface Setting</div>\n              <div className=\"p-card-subtitle\">Below are the current setup for this UI.</div>\n            </div>\n            <br />\n            <div className=\"p-grid p-nogutter p-justify-between\">\n              <h3 className=\"color-title p-col-4\">\n                Menu Color:\n                </h3>\n              <h3 className=\"color-highlight p-col-4\">\n                {state.layoutColorMode === 'dark' ? 'Dark' : 'Light'}\n              </h3>\n              <h3>\n                <Button label=\"Toggle\" icon=\"pi pi-refresh\"\n                  className=\"p-button-rounded p-button-raised p-button-secondary\"\n                  type=\"button\"\n                  onClick={(e) => {\n                    state.layoutColorMode === 'dark' ? setState(prev => ({ ...prev, layoutColorMode: 'light' })) : setState(prev => ({ ...prev, layoutColorMode: 'dark' }))\n                  }} />\n              </h3>\n            </div>\n            <div className=\"p-grid p-nogutter p-justify-between\">\n              <h3 className=\"color-title p-col-4\">\n                Menu Mode:\n                </h3>\n              <h3 className=\"color-highlight p-col-4\">\n                {state.layoutMode === 'static' ? 'Static' : 'Overlay'}\n              </h3>\n              <h3>\n                <Button label=\"Toggle\" icon=\"pi pi-refresh\"\n                  className=\"p-button-rounded p-button-raised p-button-secondary\"\n                  type=\"button\"\n                  onClick={(e) => {\n                    state.layoutMode === 'static' ? setState(prev => ({ ...prev, layoutMode: 'overlay' })) : setState(prev => ({ ...prev, layoutMode: 'static' }))\n                  }} />\n              </h3>\n            </div>\n            <div className=\"p-grid p-nogutter p-justify-between\">\n              <h3 className=\"color-title p-col-4\">\n                Language:\n                </h3>\n              <h3 className=\"color-highlight p-col-4\">\n                {i18n.language === 'en' ? 'English' : 'বাংলা'}\n              </h3>\n              <h3>\n                <Button label=\"Toggle\" icon=\"pi pi-refresh\"\n                  className=\"p-button-rounded p-button-raised p-button-secondary\"\n                  type=\"button\"\n                  onClick={(e) => toggleLanguage()} />\n              </h3>\n            </div>\n          </Card>\n        </div>\n\n      </div>\n    </div>\n\n  )\n}\n\nexport default React.memo(Setting);\n"]},"metadata":{},"sourceType":"module"}