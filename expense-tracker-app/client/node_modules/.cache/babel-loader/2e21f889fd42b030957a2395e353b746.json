{"ast":null,"code":"var _jsxFileName = \"/home/tcg/my-workspace/Team-Serengetti/expense-tracker-app/client/src/app/common/CurrencySidebar.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect } from 'react';\nimport { Sidebar } from 'primereact/sidebar';\nimport { ListBox } from 'primereact/listbox';\nimport { ProgressSpinner } from 'primereact/progressspinner';\nimport { useTracked } from './../../Store';\nimport { currencyApiEndpoints } from './../../API';\nimport axios from './../../Axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CurrencySidebar = props => {\n  _s();\n\n  const [state, setState] = useTracked();\n  useEffect(() => {\n    requestCurrencies();\n  }, [state.currencies.length]);\n  const requestCurrencies = useCallback(() => {\n    if (state.currencies.length === 0) {\n      axios.get(currencyApiEndpoints.currency, {}).then(response => {\n        // console.log(response.data);\n        if (response.data.data.length > 0) {\n          let currency = response.data.data.find(el => el.id === state.user.currency_id ? el : null);\n          setState(prev => ({ ...prev,\n            currencies: response.data.data,\n            currentCurrency: currency\n          }));\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, [state.currencies.length]);\n  return /*#__PURE__*/_jsxDEV(Sidebar, {\n    visible: props.visible,\n    position: \"right\",\n    onHide: props.onHide,\n    style: {\n      width: '345px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"p-card-title\",\n      children: \"Currencies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), state.currencies.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid p-justify-center p-align-center\",\n      style: {\n        height: '86vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(ProgressSpinner, {\n        style: {\n          height: '35px'\n        },\n        strokeWidth: '4'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(ListBox, {\n      value: state.currentCurrency,\n      filter: true,\n      filterBy: \"currency_code,country\",\n      options: state.currencies,\n      dataKey: \"currency_code\",\n      optionLabel: \"currency_code\",\n      onChange: e => {\n        // console.log(e.value);\n        setState(prev => ({ ...prev,\n          currentCurrency: e.value\n        }));\n      },\n      itemTemplate: item => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-clearfix\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"color-highlight text-bold\",\n            children: item.currency_code\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '12px',\n              fontWeight: 'bold'\n            },\n            children: item.country\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 91\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this);\n      },\n      listStyle: {\n        maxHeight: '86vh'\n      },\n      style: {\n        width: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CurrencySidebar, \"tI8cDSQl4XyJ6Qm4MhZ7daQZDWE=\", false, function () {\n  return [useTracked];\n});\n\n_c = CurrencySidebar;\nexport default _c2 = /*#__PURE__*/React.memo(CurrencySidebar);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CurrencySidebar\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/tcg/my-workspace/Team-Serengetti/expense-tracker-app/client/src/app/common/CurrencySidebar.jsx"],"names":["React","useCallback","useEffect","Sidebar","ListBox","ProgressSpinner","useTracked","currencyApiEndpoints","axios","CurrencySidebar","props","state","setState","requestCurrencies","currencies","length","get","currency","then","response","data","find","el","id","user","currency_id","prev","currentCurrency","catch","error","console","log","visible","onHide","width","height","e","value","item","currency_code","fontSize","fontWeight","country","maxHeight","memo"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect } from 'react';\n\nimport { Sidebar } from 'primereact/sidebar';\nimport { ListBox } from 'primereact/listbox';\nimport { ProgressSpinner } from 'primereact/progressspinner';\n\nimport { useTracked } from './../../Store';\nimport { currencyApiEndpoints } from './../../API';\nimport axios from './../../Axios';\n\nconst CurrencySidebar = (props) => {\n\n  const [state, setState] = useTracked();\n\n  useEffect(() => {\n    requestCurrencies();\n  }, [state.currencies.length]);\n\n  const requestCurrencies = useCallback(() => {\n    if (state.currencies.length === 0) {\n      axios.get(currencyApiEndpoints.currency, {})\n        .then(response => {\n          // console.log(response.data);\n          if (response.data.data.length > 0) {\n            let currency = response.data.data.find(el => el.id === state.user.currency_id ? el : null);\n\n            setState(prev => ({ ...prev, currencies: response.data.data, currentCurrency: currency }));\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  }, [state.currencies.length]);\n\n  return (\n    <Sidebar visible={props.visible} position=\"right\" onHide={props.onHide} style={{ width: '345px' }}>\n      <h1 className=\"p-card-title\">Currencies</h1>\n      {\n        state.currencies.length === 0 ?\n          <div className=\"p-grid p-justify-center p-align-center\" style={{ height: '86vh' }}>\n            <ProgressSpinner style={{ height: '35px' }} strokeWidth={'4'} />\n          </div>\n          :\n          <ListBox\n            value={state.currentCurrency}\n            filter={true}\n            filterBy=\"currency_code,country\"\n            options={state.currencies}\n            dataKey=\"currency_code\"\n            optionLabel=\"currency_code\"\n            onChange={(e) => {\n              // console.log(e.value);\n              setState(prev => ({ ...prev, currentCurrency: e.value }));\n            }}\n            itemTemplate={(item) => {\n              return (\n                <div className=\"p-clearfix\">\n                  <span className=\"color-highlight text-bold\">{item.currency_code}</span> <span style={{ fontSize: '12px', fontWeight: 'bold' }}>{item.country}</span>\n                </div>\n              )\n            }}\n            listStyle={{ maxHeight: '86vh' }}\n            style={{ width: '100%' }}\n          />\n      }\n    </Sidebar>\n  );\n}\n\nexport default React.memo(CurrencySidebar);\n"]},"metadata":{},"sourceType":"module"}